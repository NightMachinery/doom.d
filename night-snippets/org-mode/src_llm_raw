# -*- mode: snippet -*-
# name: llm
# key: <l
# uuid: <l
# --
#+begin_src jupyter-python :kernel py_base :session chatgpt_1 :async yes :exports both
res = openai_chat_complete(
    ##
    # model="gpt-4-0314",
    # model="gpt-4-0613",
    model="gpt-4-turbo-auto-vision",
    # model="gpt-4-turbo",
    # model="gpt-4-vision-preview",
    # model="gpt-3.5-turbo",
    ##
    messages=[
        # {"role": "system", "content": """You are a senior programmer. You are an expert in functional programming. You use design patterns as appropriate."""},
        {"role": "user", "content": [
            {"type": "text", "text": r"""
            `%`$0
            """},
            # {"type": "image_url", "image_url": {
            #     "url": openai_image_url_auto(r"""
            #         MAGIC_CLIPBOARD
            # """),
            #     "detail": "high", #: high or low
            # },},
        ]},
    ],
    temperature=0,
    max_tokens=4096,
    interactive=True,
)

print_chat_streaming(res, copy_mode="chat2")
bell_gpt()
#+end_src
